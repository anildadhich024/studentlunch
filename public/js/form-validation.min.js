$(function () {
    /*$("#general_form1").on("submit", function(e) {
        $('#loadingBox').removeClass('d-none');
        $('#loadingmsg').html('Processing Your Request');
    });*/


    $("#general_form").attr("novalidate", "novalidate");
    $("#general_form").on("submit", function (e) {


        //$(this).find(".help-block").remove();
        $("input").removeClass("is-invalid");
        $("select").removeClass("is-invalid");
        $("textarea").removeClass("is-invalid");
        $(".invalid-feedback").addClass('d-none');
        var errorFlag = false;

        email = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;

        $(this).find("input, select, textarea").each(function () {

            if ($(this).prop("required") && $(this).val() == "") {

                $(this).addClass("is-invalid");
                $(this).closest(".box-div-login").append('<div class="invalid-feedback"><span>This field is required</span></div>');
                errorFlag = true;
            }

            if ($(this).attr("IsEmail") == "Yes" && $(this).val() != "" && !email.test($(this).val())) {

                $(this).addClass("is-invalid");
                //$(this).closest(".box-div").append('<div class="help-block">Please enter only numeric value.</div>');
                errorFlag = true;

            }
        });
        if (errorFlag) {
            e.preventDefault();
        }
        else {
            $('#loadingBox').removeClass('d-none');
            $('#loadingmsg').html('Processing Your Request');
        }
    });

});

function LenCheck(eEvnt, sValue, nLen) {
    if (sValue.length < nLen) {
        return true;
    }
    else {
        return false;
    }
}

function IsNumber(eEvnt, sValue, nLen) {
    var nKeyCode = eEvnt.which || eEvnt.keyCode;
    if (nKeyCode >= 48 && nKeyCode <= 57) {
        if (sValue.length < nLen) {
            return true;
        }
        else {
            return false;
        }
    }
    else {
        return false;
    }
}

function IsAlpha(eEvnt, sValue, nLen) {
    var nKeyCode = eEvnt.which || eEvnt.keyCode;
    if ((nKeyCode >= 65 && nKeyCode <= 90) || (nKeyCode >= 97 && nKeyCode <= 122) || nKeyCode == 32) {
        if (sValue.length < nLen) {
            return true;
        }
        else {
            return false;
        }
    }
    else {
        return false;
    }
}

function IsAlphaSpcl(eEvnt, sValue, nLen) {
    var nKeyCode = eEvnt.which || eEvnt.keyCode;
    if ((nKeyCode >= 65 && nKeyCode <= 90) || (nKeyCode >= 97 && nKeyCode <= 122) || nKeyCode == 40 || nKeyCode == 41 || nKeyCode == 150 || nKeyCode == 40 || nKeyCode == 39 || nKeyCode == 44 || nKeyCode == 38) {
        if (sValue.length < nLen) {
            return true;
        }
        else {
            return false;
        }
    }
    else {
        return false;
    }
}

function IsSchool(eEvnt, sValue, nLen) {
    var nKeyCode = eEvnt.which || eEvnt.keyCode;
    if (nKeyCode == 46 || (nKeyCode >= 65 && nKeyCode <= 90) || (nKeyCode >= 97 && nKeyCode <= 122) || nKeyCode == 32) {
        if (sValue.length < nLen) {
            return true;
        }
        else {
            return false;
        }
    }
    else {
        return false;
    }
}

function IsAlphaNum(eEvnt, sValue, nLen) {
    var nKeyCode = eEvnt.which || eEvnt.keyCode;
    if ((nKeyCode >= 65 && nKeyCode <= 90) || (nKeyCode >= 97 && nKeyCode <= 122) || nKeyCode == 32 || (nKeyCode >= 49 && nKeyCode <= 57)) {
        if (sValue.length < nLen) {
            return true;
        }
        else {
            return false;
        }
    }
    else {
        return false;
    }
}

function ChkKm1(eEvnt, sValue, nLen) {
    var nKeyCode = eEvnt.which || eEvnt.keyCode;
    if (nKeyCode >= 48 && nKeyCode <= 55) {
        if (sValue.length < nLen) {
            return true;
        }
        else {
            return false;
        }
    }
    else {
        return false;
    }
}

function IsDecimal(eEvnt, sValue, nLen) {
    var nKeyCode = eEvnt.which || eEvnt.keyCode;
    if (nKeyCode >= 48 && nKeyCode <= 57 || nKeyCode <= 46) {
        if (sValue.length < nLen) {
            return true;
        }
        else {
            return false;
        }
    }
    else {
        return false;
    }
}

function IsMobile(eEvnt, sValue, nLen, id = '') {
    id = id == '' ? 'sMobileNo' : 'sMobileNo' + id;
    var nKeyCode = eEvnt.which || eEvnt.keyCode;
    if (nKeyCode >= 48 && nKeyCode <= 57) {
        if (sValue.length < nLen) {
            document.getElementById(id).addEventListener('input', function (e) {
                var target = e.target, position = target.selectionEnd, length = target.value.length;

                target.value = target.value.replace(/[^\dA-Z]/g, '').replace(/(.{3})/g, '$1 ').trim();
                target.selectionEnd = position += ((target.value.charAt(position - 1) === ' ' && target.value.charAt(length - 1) === ' ' && length !== target.value.length) ? 1 : 0);
            });
            return true;
        }
        else {
            return false;
        }
    }
    else {
        return false;
    }
}

function IsPhone(eEvnt, sValue, nLen, id = '') {
    id = id == '' ? 'sPhoneNo' : 'sPhoneNo' + id;
    var nKeyCode = eEvnt.which || eEvnt.keyCode;
    if (nKeyCode >= 48 && nKeyCode <= 57) {
        if (sValue.length < nLen) {
            document.getElementById(id).addEventListener('input', function (e) {
                var target = e.target, position = target.selectionEnd, length = target.value.length;

                target.value = target.value.replace(/[^\dA-Z]/g, '').replace(/(.{4})/g, '$1 ').trim();
                target.selectionEnd = position += ((target.value.charAt(position - 1) === ' ' && target.value.charAt(length - 1) === ' ' && length !== target.value.length) ? 1 : 0);
            });
            return true;
        }
        else {
            return false;
        }
    }
    else {
        return false;
    }
}

function IsCardNum(eEvnt, sValue, nLen) {
    var nKeyCode = eEvnt.which || eEvnt.keyCode;
    if (nKeyCode >= 48 && nKeyCode <= 57) {
        if (sValue.length < nLen) {
            document.getElementById('sCardNum').addEventListener('input', function (e) {
                var target = e.target, position = target.selectionEnd, length = target.value.length;

                target.value = target.value.replace(/[^\dA-Z]/g, '').replace(/(.{4})/g, '$1 ').trim();
                target.selectionEnd = position += ((target.value.charAt(position - 1) === ' ' && target.value.charAt(length - 1) === ' ' && length !== target.value.length) ? 1 : 0);
            });
            return true;
        }
        else {
            return false;
        }
    }
    else {
        return false;
    }
}

$('input').keypress(function (e) {
    if (e.which == 13) {
        $('form').submit();
        return false;
    }
});

function IsItemName(eEvnt, sValue, nLen) {
    var nKeyCode = eEvnt.which || eEvnt.keyCode;
    if ((nKeyCode >= 65 && nKeyCode <= 90) || (nKeyCode >= 97 && nKeyCode <= 122) || nKeyCode == 32 || nKeyCode == 40 || nKeyCode == 41 || nKeyCode == 45 || nKeyCode == 39 || nKeyCode == 47) {
        if (sValue.length < nLen) {
            return true;
        }
        else {
            return false;
        }
    }
    else {
        return false;
    }
}

function IsItemDes(eEvnt, sValue, nLen) {
    var nKeyCode = eEvnt.which || eEvnt.keyCode;
    if ((nKeyCode >= 48 && nKeyCode <= 57) || (nKeyCode >= 65 && nKeyCode <= 90) || (nKeyCode >= 97 && nKeyCode <= 122) || nKeyCode == 32 || nKeyCode == 40 || nKeyCode == 41 || nKeyCode == 45 || nKeyCode == 39 || nKeyCode == 44 || nKeyCode == 47 || nKeyCode == 38) {
        if (sValue.length < nLen) {
            return true;
        }
        else {
            return false;
        }
    }
    else {
        return false;
    }
}


function isNumberKey(evt) {
    var charCode = (evt.which) ? evt.which : evt.keyCode;
    if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57))
        return false;
}

function fn_do(id_val) {
    id = 'dDistKm' + id_val;
    var numb = document.getElementById(id).value;
    if (numb <= 7 && numb > 0) {
        var zz = parseFloat(numb) || 0;
        var zzz = zz.toFixed(2);
        document.getElementById(id).value = zzz;
    }
    else {
        document.getElementById(id).value = '';
        document.getElementById(id).focus();
        alert('Please put the value bettween 0.01 to 7.00');
    }
}

function ItmPrc() {
    id = 'sItemPrc';
    var numb = document.getElementById(id).value;
    var zz = parseFloat(numb) || 0;
    var zzz = zz.toFixed(2);
    document.getElementById(id).value = zzz;
}